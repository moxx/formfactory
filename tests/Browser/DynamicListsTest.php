<?php

namespace FormFactoryTests\Browser;

use Facebook\WebDriver\WebDriverKeys;
use FormFactoryTests\DuskTestCase;
use Laravel\Dusk\Browser;

class DynamicListsTest extends DuskTestCase
{


    /**
     * @throws \Exception
     * @throws \Throwable
     */
    public function testDynamicLists()
    {
        $this->browse(function (Browser $browser) {
            $browser->visit('/dynamic-lists-get');
            $this->assertDynamicListHtmlEquals($browser,'<fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="d298c4d06d5b69739759e9f1f7beeccb_errors" data-displays-errors-for="outer_dynamic_list" hidden="" style="display:none"></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="0"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[0][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][text]_errors" data-displays-errors-for="outer_dynamic_list[0][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[0][text]" class="form-control" id="myFormId_outer_dynamic_list[0][text]" required="" pattern=".{2,}" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[0][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="91e3fe08166c1a031758bbb849a245d6_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group91e3fe08166c1a031758bbb849a245d6itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" placeholder="%group91e3fe08166c1a031758bbb849a245d6itemID%" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_91e3fe08166c1a031758bbb849a245d6_add_button" data-dynamiclist-add="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="1"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[1][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][text]_errors" data-displays-errors-for="outer_dynamic_list[1][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[1][text]" class="form-control" id="myFormId_outer_dynamic_list[1][text]" required="" pattern=".{2,}" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[1][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="912e5d93899c63151d78a909ab9ee0bc_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group912e5d93899c63151d78a909ab9ee0bcitemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" placeholder="%group912e5d93899c63151d78a909ab9ee0bcitemID%" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_912e5d93899c63151d78a909ab9ee0bc_add_button" data-dynamiclist-add="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%groupd298c4d06d5b69739759e9f1f7beeccbitemID%"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]">Text</label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="28c416835abf9f0f3a3b78c0674c5629_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" placeholder="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_28c416835abf9f0f3a3b78c0674c5629%parentItemID%_add_button" data-dynamiclist-add="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="alert m-b-1 alert-info">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><button type="button" title="Add Outer_dynamic_list" id="myFormId_dynamic_list_d298c4d06d5b69739759e9f1f7beeccb_add_button" data-dynamiclist-add="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="btn-sm push-top btn btn-default" data-dynamiclist-min="2" data-dynamiclist-max="3">Add Outer_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div>');
        });
    }

    /**
     * @throws \Exception
     * @throws \Throwable
     */
    public function testDynamicListsErrors()
    {
        $this->browse(function (Browser $browser) {
            $browser->visit('/dynamic-lists-get');
            $browser->click('#myFormId_submit');
            $this->assertDynamicListHtmlEquals($browser,'<fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="d298c4d06d5b69739759e9f1f7beeccb_errors" data-displays-errors-for="outer_dynamic_list" hidden="" style="display:none"></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="0"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group has-error"><label for="myFormId_outer_dynamic_list[0][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][text]_errors" data-displays-errors-for="outer_dynamic_list[0][text]"><div>The outer_dynamic_list.0.text field is required.</div></div><input type="text" name="outer_dynamic_list[0][text]" class="form-control" id="myFormId_outer_dynamic_list[0][text]" required="" pattern=".{2,}" placeholder="Text" aria-invalid="true" aria-describedby="myFormId_outer_dynamic_list[0][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="91e3fe08166c1a031758bbb849a245d6_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][0]"><div>The outer_dynamic_list.0.inner_dynamic_list.0 may only contain letters.</div></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-invalid="true" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group91e3fe08166c1a031758bbb849a245d6itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" placeholder="%group91e3fe08166c1a031758bbb849a245d6itemID%" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_91e3fe08166c1a031758bbb849a245d6_add_button" data-dynamiclist-add="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="1"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group has-error"><label for="myFormId_outer_dynamic_list[1][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][text]_errors" data-displays-errors-for="outer_dynamic_list[1][text]"><div>The outer_dynamic_list.1.text field is required.</div></div><input type="text" name="outer_dynamic_list[1][text]" class="form-control" id="myFormId_outer_dynamic_list[1][text]" required="" pattern=".{2,}" placeholder="Text" aria-invalid="true" aria-describedby="myFormId_outer_dynamic_list[1][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="912e5d93899c63151d78a909ab9ee0bc_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][0]"><div>The outer_dynamic_list.1.inner_dynamic_list.0 may only contain letters.</div></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-invalid="true" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group912e5d93899c63151d78a909ab9ee0bcitemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" placeholder="%group912e5d93899c63151d78a909ab9ee0bcitemID%" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_912e5d93899c63151d78a909ab9ee0bc_add_button" data-dynamiclist-add="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%groupd298c4d06d5b69739759e9f1f7beeccbitemID%"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]">Text</label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="28c416835abf9f0f3a3b78c0674c5629_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" placeholder="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_28c416835abf9f0f3a3b78c0674c5629%parentItemID%_add_button" data-dynamiclist-add="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="alert m-b-1 alert-info">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><button type="button" title="Add Outer_dynamic_list" id="myFormId_dynamic_list_d298c4d06d5b69739759e9f1f7beeccb_add_button" data-dynamiclist-add="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="btn-sm push-top btn btn-default" data-dynamiclist-min="2" data-dynamiclist-max="3">Add Outer_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div>');
        });
    }

    /**
     * @throws \Exception
     * @throws \Throwable
     */
    public function testDynamicListAddInnerListButton()
    {
        $this->browse(function (Browser $browser) {
            $browser->visit('/dynamic-lists-get');
            $browser->click('button[data-dynamiclist-add="1"][data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6"]');
            $this->assertDynamicListHtmlEquals($browser,'<fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="d298c4d06d5b69739759e9f1f7beeccb_errors" data-displays-errors-for="outer_dynamic_list" hidden="" style="display:none"></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="0"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[0][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][text]_errors" data-displays-errors-for="outer_dynamic_list[0][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[0][text]" class="form-control" id="myFormId_outer_dynamic_list[0][text]" required="" pattern=".{2,}" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[0][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="91e3fe08166c1a031758bbb849a245d6_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" style="" data-dynamiclist-id="1"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][1]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][1]" placeholder="1" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][1]_errors" /></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group91e3fe08166c1a031758bbb849a245d6itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" placeholder="%group91e3fe08166c1a031758bbb849a245d6itemID%" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_91e3fe08166c1a031758bbb849a245d6_add_button" data-dynamiclist-add="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2" style="display: none;">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" data-dynamiclist-maxalert="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="alert m-b-1 alert-info" style="display: block;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="1"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[1][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][text]_errors" data-displays-errors-for="outer_dynamic_list[1][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[1][text]" class="form-control" id="myFormId_outer_dynamic_list[1][text]" required="" pattern=".{2,}" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[1][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="912e5d93899c63151d78a909ab9ee0bc_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]" pattern="[a-zA-Z]+" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group912e5d93899c63151d78a909ab9ee0bcitemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" placeholder="%group912e5d93899c63151d78a909ab9ee0bcitemID%" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_912e5d93899c63151d78a909ab9ee0bc_add_button" data-dynamiclist-add="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%groupd298c4d06d5b69739759e9f1f7beeccbitemID%"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]">Text</label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="28c416835abf9f0f3a3b78c0674c5629_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" placeholder="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_28c416835abf9f0f3a3b78c0674c5629%parentItemID%_add_button" data-dynamiclist-add="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="alert m-b-1 alert-info">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><button type="button" title="Add Outer_dynamic_list" id="myFormId_dynamic_list_d298c4d06d5b69739759e9f1f7beeccb_add_button" data-dynamiclist-add="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="btn-sm push-top btn btn-default" data-dynamiclist-min="2" data-dynamiclist-max="3">Add Outer_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div>');
        });
    }


    /**
     * @throws \Exception
     * @throws \Throwable
     */
    public function testDynamicListWithDefaultValues()
    {
        $this->browse(function (Browser $browser) {
            $browser->visit('/dynamic-lists-get-with-default-values');
            $this->assertDynamicListHtmlEquals($browser,'<fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="d298c4d06d5b69739759e9f1f7beeccb_errors" data-displays-errors-for="outer_dynamic_list" hidden="" style="display:none"></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="0"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[0][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][text]_errors" data-displays-errors-for="outer_dynamic_list[0][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[0][text]" class="form-control" id="myFormId_outer_dynamic_list[0][text]" required="" pattern=".{2,}" value="foobar" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[0][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="91e3fe08166c1a031758bbb849a245d6_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]" pattern="[a-zA-Z]+" value="foo" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][1]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][1]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" data-dynamiclist-id="1"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][1]" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][1]" pattern="[a-zA-Z]+" value="bar" placeholder="1" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][1]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" data-displays-errors-for="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group91e3fe08166c1a031758bbb849a245d6itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]" placeholder="%group91e3fe08166c1a031758bbb849a245d6itemID%" aria-describedby="myFormId_outer_dynamic_list[0][inner_dynamic_list][%group91e3fe08166c1a031758bbb849a245d6itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_91e3fe08166c1a031758bbb849a245d6_add_button" data-dynamiclist-add="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2" style="display: none;">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" data-dynamiclist-maxalert="1" data-dynamiclist-group="91e3fe08166c1a031758bbb849a245d6" class="alert m-b-1 alert-info" style="display: block;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" data-dynamiclist-id="1"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[1][text]">Text<sup>*</sup></label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][text]_errors" data-displays-errors-for="outer_dynamic_list[1][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[1][text]" class="form-control" id="myFormId_outer_dynamic_list[1][text]" required="" pattern=".{2,}" value="boofar" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[1][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="912e5d93899c63151d78a909ab9ee0bc_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][0]" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]" pattern="[a-zA-Z]+" value="boo" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][1]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][1]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" data-dynamiclist-id="1"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][1]" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][1]" pattern="[a-zA-Z]+" value="far" placeholder="1" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][1]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" data-displays-errors-for="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group912e5d93899c63151d78a909ab9ee0bcitemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]" placeholder="%group912e5d93899c63151d78a909ab9ee0bcitemID%" aria-describedby="myFormId_outer_dynamic_list[1][inner_dynamic_list][%group912e5d93899c63151d78a909ab9ee0bcitemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_912e5d93899c63151d78a909ab9ee0bc_add_button" data-dynamiclist-add="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2" style="display: none;">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" data-dynamiclist-maxalert="1" data-dynamiclist-group="912e5d93899c63151d78a909ab9ee0bc" class="alert m-b-1 alert-info" style="display: block;">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><div data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="m-b-1 panel panel-default" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%groupd298c4d06d5b69739759e9f1f7beeccbitemID%"><button type="button" title="Remove Outer_dynamic_list" data-dynamiclist-remove="1" class="pull-right btn-sm btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button><span class="clearfix"></span><div class="panel-body"><div data-field-wrapper="1" class="form-group"><label for="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]">Text</label><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" hidden="" style="display:none"></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]" placeholder="Text" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][text]_errors" /></div><fieldset class="form-group"><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="28c416835abf9f0f3a3b78c0674c5629_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list]" hidden="" style="display:none"></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" data-dynamiclist-id="0"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]" placeholder="0" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][0]_errors" /></div><div role="alert" data-error-wrapper="1" class="alert m-b-1 alert-danger" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" data-displays-errors-for="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" hidden="" style="display:none"></div><div class="input-group m-b-1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" hidden="" style="display:none" data-dynamiclist-template="1" data-dynamiclist-id="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%"><div class="input-group-btn"><button type="button" title="Remove Inner_dynamic_list" data-dynamiclist-remove="1" disabled="" class="btn btn-danger" id="myFormId_danger"><i class="btr bt-trash" style="margin:0"></i></button></div><input type="text" name="outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" disabled="" class="form-control" id="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]" placeholder="%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%" aria-describedby="myFormId_outer_dynamic_list[%groupd298c4d06d5b69739759e9f1f7beeccbitemID%][inner_dynamic_list][%group28c416835abf9f0f3a3b78c0674c5629%parentItemID%itemID%]_errors" /></div><button type="button" title="Add Inner_dynamic_list" id="myFormId_dynamic_list_28c416835abf9f0f3a3b78c0674c5629%parentItemID%_add_button" data-dynamiclist-add="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="btn-sm push-top btn btn-default" data-dynamiclist-min="1" data-dynamiclist-max="2">Add Inner_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="28c416835abf9f0f3a3b78c0674c5629%parentItemID%" class="alert m-b-1 alert-info">You have reached the maximum amount. Please delete an item to add a new one.</div></div></div></div><button type="button" title="Add Outer_dynamic_list" id="myFormId_dynamic_list_d298c4d06d5b69739759e9f1f7beeccb_add_button" data-dynamiclist-add="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="btn-sm push-top btn btn-default" data-dynamiclist-min="2" data-dynamiclist-max="3">Add Outer_dynamic_list <i class="btr bt-plus btn-no-anim"></i></button><div role="alert" hidden="" data-dynamiclist-maxalert="1" data-dynamiclist-group="d298c4d06d5b69739759e9f1f7beeccb" class="alert m-b-1 alert-info" style="display: none;">You have reached the maximum amount. Please delete an item to add a new one.</div></div>
');
        });
    }

    private function assertDynamicListHtmlEquals(Browser $browser, string $expectedHtml) {
        $this->assertHtmlEquals(
            $expectedHtml,
            str_before(str_after($browser->driver->getPageSource(),' data-displays-errors-for="" hidden="" style="display:none"></div>'),'<button type="submit"')
        );
    }


}